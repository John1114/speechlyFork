!function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(n)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e}const l="undefined"!=typeof window;let c=l?()=>window.performance.now():()=>Date.now(),a=l?t=>requestAnimationFrame(t):t;const d=new Set;function u(t){d.forEach((e=>{e.c(t)||(d.delete(e),e.f())})),0!==d.size&&a(u)}function f(t){let e;return 0===d.size&&a(u),{promise:new Promise((n=>{d.add(e={c:t,f:n})})),abort(){d.delete(e)}}}let h=!1;const g=new Set;function p(t,e){h&&g.delete(e),e.parentNode!==t&&t.appendChild(e)}function m(t,e,n){h&&g.delete(e),(e.parentNode!==t||n&&e.nextSibling!==n)&&t.insertBefore(e,n||null)}function v(t){h?g.add(t):t.parentNode&&t.parentNode.removeChild(t)}function w(t){return document.createElement(t)}function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function y(t){return document.createTextNode(t)}function b(){return y(" ")}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:x(t,e,n)}function k(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function _(t,e,n){t.classList[n?"add":"remove"](e)}function S(t){const e={};for(const n of t)e[n.name]=n.value;return e}const E=new Set;let N,T=0;function P(t,e,n,o,i,r,s,l=0){const c=16.666/o;let a="{\n";for(let t=0;t<=1;t+=c){const o=e+(n-e)*r(t);a+=100*t+`%{${s(o,1-o)}}\n`}const d=a+`100% {${s(n,1-n)}}\n}`,u=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(d)}_${l}`,f=t.ownerDocument;E.add(f);const h=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(w("style")).sheet),g=f.__svelte_rules||(f.__svelte_rules={});g[u]||(g[u]=!0,h.insertRule(`@keyframes ${u} ${d}`,h.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${u} ${o}ms linear ${i}ms 1 both`,T+=1,u}function R(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-o.length;i&&(t.style.animation=o.join(", "),T-=i,T||a((()=>{T||(E.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),E.clear())})))}function M(t){N=t}function z(){if(!N)throw new Error("Function called outside component initialization");return N}function B(t){z().$$.on_mount.push(t)}const D=[],F=[],I=[],L=[],A=Promise.resolve();let H=!1;function O(t){I.push(t)}let j=!1;const V=new Set;function U(){if(!j){j=!0;do{for(let t=0;t<D.length;t+=1){const e=D[t];M(e),q(e.$$)}for(M(null),D.length=0;F.length;)F.pop()();for(let t=0;t<I.length;t+=1){const e=I[t];V.has(e)||(V.add(e),e())}I.length=0}while(D.length);for(;L.length;)L.pop()();H=!1,j=!1,V.clear()}}function q(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}let W;function G(){return W||(W=Promise.resolve(),W.then((()=>{W=null}))),W}function J(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const K=new Set;let Q;function X(t,e){t&&t.i&&(K.delete(t),t.i(e))}function Y(t,e,n,o){if(t&&t.o){if(K.has(t))return;K.add(t),Q.c.push((()=>{K.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const Z={duration:0};function tt(n,o,i){let s,l,a=o(n,i),d=!1,u=0;function h(){s&&R(n,s)}function g(){const{delay:o=0,duration:i=300,easing:r=e,tick:g=t,css:p}=a||Z;p&&(s=P(n,0,1,i,o,r,p,u++)),g(0,1);const m=c()+o,v=m+i;l&&l.abort(),d=!0,O((()=>J(n,!0,"start"))),l=f((t=>{if(d){if(t>=v)return g(1,0),J(n,!0,"end"),h(),d=!1;if(t>=m){const e=r((t-m)/i);g(e,1-e)}}return d}))}let p=!1;return{start(){p||(R(n),r(a)?(a=a(),G().then(g)):g())},invalidate(){p=!1},end(){d&&(h(),d=!1)}}}const et="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function nt(t,e){-1===t.$$.dirty[0]&&(D.push(t),H||(H=!0,A.then(U)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ot(e,s,l,c,a,d,u=[-1]){const f=N;M(e);const p=e.$$={fragment:null,ctx:null,props:d,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:s.context||[]),callbacks:o(),dirty:u,skip_bound:!1};let m=!1;if(p.ctx=l?l(e,s.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),m&&nt(e,t)),n})):[],p.update(),m=!0,i(p.before_update),p.fragment=!!c&&c(p.ctx),s.target){if(s.hydrate){h=!0;const t=function(t){return Array.from(t.childNodes)}(s.target);p.fragment&&p.fragment.l(t),t.forEach(v)}else p.fragment&&p.fragment.c();s.intro&&X(e.$$.fragment),function(t,e,o,s){const{fragment:l,on_mount:c,on_destroy:a,after_update:d}=t.$$;l&&l.m(e,o),s||O((()=>{const e=c.map(n).filter(r);a?a.push(...e):i(e),t.$$.on_mount=[]})),d.forEach(O)}(e,s.target,s.anchor,s.customElement),function(){h=!1;for(const t of g)t.parentNode.removeChild(t);g.clear()}(),U()}M(f)}let it;"function"==typeof HTMLElement&&(it=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(n).filter(r);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){i(this.$$.on_disconnect)}$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});var rt,st,lt,ct,at,dt=(function(t,e){var n;Object.defineProperty(e,"__esModule",{value:!0}),(n=e.ClientState||(e.ClientState={}))[n.Failed=0]="Failed",n[n.NoBrowserSupport=1]="NoBrowserSupport",n[n.NoAudioConsent=2]="NoAudioConsent",n[n.Disconnected=3]="Disconnected",n[n.Disconnecting=4]="Disconnecting",n[n.Connecting=5]="Connecting",n[n.Connected=6]="Connected",n[n.Starting=7]="Starting",n[n.Stopping=8]="Stopping",n[n.Recording=9]="Recording"}(rt={exports:{}},rt.exports),rt.exports);function ut(t){return function(e,n){if(!e.hasOwnProperty("ownerDocument")){Object.defineProperty(e,"ownerDocument",{get:function(){return e.parentElement}});let t=e;for(;t.parentElement;)t=t.parentElement;e.parentElement.head=t}return t(e,n)}}function ft(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function ht(t,{delay:e=0,speed:n,duration:o,easing:i=ft}={}){const r=t.getTotalLength();return void 0===o?o=void 0===n?800:r/n:"function"==typeof o&&(o=o(r)),{delay:e,duration:o,easing:i,css:(t,e)=>`stroke-dasharray: ${t*r} ${e*r}`}}!function(t){t.Failed="Failed",t.NoBrowserSupport="NoBrowserSupport",t.NoAudioConsent="NoAudioConsent",t.Idle="Idle",t.Connecting="Connecting",t.Ready="Ready",t.Recording="Recording",t.Loading="Loading"}(st||(st={})),function(t){t.Poweron="poweron",t.Mic="mic",t.Error="error",t.Denied="denied"}(lt||(lt={})),function(t){t.Hold="hold",t.Click="click",t.Noninteractive="noninteractive"}(ct||(ct={})),function(t){t.None="none",t.Connecting="connecting",t.Busy="busy"}(at||(at={})),dt.ClientState.Disconnected,lt.Poweron,ct.Click,at.None,dt.ClientState.Disconnecting,lt.Poweron,ct.Noninteractive,at.Connecting,dt.ClientState.Connecting,lt.Poweron,ct.Noninteractive,at.Connecting,dt.ClientState.Connected,lt.Mic,ct.Hold,at.None,dt.ClientState.Starting,lt.Mic,ct.Hold,at.Connecting,dt.ClientState.Recording,lt.Mic,ct.Hold,at.None,dt.ClientState.Stopping,lt.Mic,ct.Noninteractive,at.Busy,dt.ClientState.Failed,lt.Error,ct.Click,at.None,dt.ClientState.NoBrowserSupport,lt.Error,ct.Click,at.None,dt.ClientState.NoAudioConsent,lt.Denied,ct.Click,at.None,st.Idle,lt.Poweron,ct.Click,at.None,st.Connecting,lt.Poweron,ct.Noninteractive,at.Connecting,st.Ready,lt.Mic,ct.Hold,at.None,st.Recording,lt.Mic,ct.Hold,at.None,st.Loading,lt.Mic,ct.Noninteractive,at.Busy,st.Failed,lt.Error,ct.Click,at.None,st.NoBrowserSupport,lt.Error,ct.Click,at.None,st.NoAudioConsent,lt.Denied,ct.Click,at.None;const gt=[0,1];function pt(t,e,n,o){if(e<n)return t[0];if(e>o)return t[t.length-1];let i=(o-n)/(t.length-1);if(i<=0)return t[0];let r=(e-n)/i,s=Math.floor(r),l=Math.ceil(r),c=r-s;return(1-c)*t[s]+c*t[l]}function mt(e){let n;return{c(){n=w("canvas"),this.c=t,k(n,"color",e[0])},m(t,o){m(t,n,o),e[2](n)},p(t,[e]){1&e&&k(n,"color",t[0])},i:t,o:t,d(t){t&&v(n),e[2](null)}}}function vt(t,e,n){let o,{color:i="#60e0ff"}=e,r=0,s=0,l=[0,0];const c=z(),a=(t,e,n,o,i,r)=>{o<2*r&&(r=o/2),i<2*r&&(r=i/2),t.beginPath(),t.moveTo(e+r,n),t.arcTo(e+o,n,e+o,n+i,r),t.arcTo(e+o,n+i,e,n+i,r),t.arcTo(e,n+i,e,n,r),t.arcTo(e,n,e+o,n,r),t.closePath()};return B((()=>{let t;const e=2*(l.length-1)+1,i=3*e+1*(e-1),d=(t,e)=>{r=Date.now()>s?t:Math.max(r,t),s=Date.now()+e},u=()=>{if(t=requestAnimationFrame(u),!o)return;const e=o.getContext("2d");if(!e)return;let c=(t=>{var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e})(e),d=Number.parseInt(getComputedStyle(o).getPropertyValue("width").slice(0,-2)),f=Number.parseInt(getComputedStyle(o).getPropertyValue("height").slice(0,-2));n(1,o.width=d*c,o),n(1,o.height=f*c,o),Date.now()<s?l[0]=.15*r+.85*l[0]:l[0]=.0625+.75*l[0];let h=1;for(;h<l.length;)l[h]=.25*l[h-1]+.5*l[h]+.0625,h++;e.clearRect(0,0,o.width,o.height);const g=3/i*o.width*.5,p=4/i*o.width;for(e.fillStyle=o.style.color||"#000000",h=0;h<l.length;h++){const t=l[h]*o.height;t*o.height>2*g?a(e,.5*o.width-g+h*p,.5*(o.height-t),2*g,t,g):(e.beginPath(),e.arc(.5*o.width+h*p,.5*o.height,t*o.height*.5,0,2*Math.PI)),e.fill(),h>0&&(t*o.height>2*g?a(e,.5*o.width-g-h*p,.5*(o.height-t),2*g,t,g):(e.beginPath(),e.arc(.5*o.width-h*p,.5*o.height,t*o.height*.5,0,2*Math.PI)),e.fill())}};u(),d(1,350);const f=t=>d(.5*Math.random()+.5,75*Math.random()+75);return c.addEventListener("updateVU",f),()=>{cancelAnimationFrame(t),c.removeEventListener("updateVU",f)}})),t.$$set=t=>{"color"in t&&n(0,i=t.color)},[i,o,function(t){F[t?"unshift":"push"]((()=>{o=t,n(1,o)}))}]}customElements.define("vu-meter",class extends it{constructor(t){super(),this.shadowRoot.innerHTML="<style>canvas{display:block;width:1.35rem;height:1.5rem;margin:0;padding:0 0.8rem 0 0rem}</style>",ot(this,{target:this.shadowRoot,props:S(this.attributes),customElement:!0},vt,mt,s,{color:0}),t&&(t.target&&m(t.target,this,t.anchor),t.props&&(this.$set(t.props),U()))}static get observedAttributes(){return["color"]}get color(){return this.$$.ctx[0]}set color(t){this.$set({color:t}),U()}});const{window:wt}=et;function $t(t,e,n){const o=t.slice();return o[28]=e[n],o[30]=n,o}function yt(n){let o,s,l,a,d,u,h,g,$,y,k,_,S,E=n[10]&&bt(n),N=n[6],T=[];for(let t=0;t<N.length;t+=1)T[t]=Ct($t(n,N,t));let M=n[9]&&kt(n);return{c(){o=w("div"),s=w("div"),l=w("div"),a=b(),d=w("div"),u=w("vu-meter"),h=b(),E&&E.c(),$=b();for(let t=0;t<T.length;t+=1)T[t].c();y=b(),M&&M.c(),x(l,"class","TransscriptItemBgDiv"),C(u,"color",n[4]),x(d,"class","TransscriptItemContent"),x(s,"class","TranscriptItem"),x(o,"class","BigTranscript")},m(t,e){m(t,o,e),p(o,s),p(s,l),p(s,a),p(s,d),p(d,u),n[18](u),p(d,h),E&&E.m(d,null),p(o,$);for(let t=0;t<T.length;t+=1)T[t].m(o,null);p(o,y),M&&M.m(o,null),S=!0},p(t,e){if((!S||16&e)&&C(u,"color",t[4]),t[10]?E?1024&e&&X(E,1):(E=bt(t),E.c(),X(E,1),E.m(d,null)):E&&(E.d(1),E=null),33344&e){let n;for(N=t[6],n=0;n<N.length;n+=1){const i=$t(t,N,n);T[n]?(T[n].p(i,e),X(T[n],1)):(T[n]=Ct(i),T[n].c(),X(T[n],1),T[n].m(o,y))}for(;n<T.length;n+=1)T[n].d(1);T.length=N.length}t[9]?M?(M.p(t,e),512&e&&X(M,1)):(M=kt(t),M.c(),X(M,1),M.m(o,null)):M&&(M.d(1),M=null)},i(t){if(!S){X(E),g||O((()=>{g=tt(s,n[13],{duration:200}),g.start()}));for(let t=0;t<N.length;t+=1)X(T[t]);X(M),O((()=>{_&&_.end(1),k||(k=tt(o,n[12],{})),k.start()})),S=!0}},o(s){k&&k.invalidate(),_=function(n,o,s){let l,a=o(n,s),d=!0;const u=Q;function h(){const{delay:o=0,duration:r=300,easing:s=e,tick:h=t,css:g}=a||Z;g&&(l=P(n,1,0,r,o,s,g));const p=c()+o,m=p+r;O((()=>J(n,!1,"start"))),f((t=>{if(d){if(t>=m)return h(0,1),J(n,!1,"end"),--u.r||i(u.c),!1;if(t>=p){const e=s((t-p)/r);h(1-e,e)}}return d}))}return u.r+=1,r(a)?G().then((()=>{a=a(),h()})):h(),{end(t){t&&a.tick&&a.tick(1,0),d&&(l&&R(n,l),d=!1)}}}(o,n[12],{}),S=!1},d(t){t&&v(o),n[18](null),E&&E.d(),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(T,t),M&&M.d(),t&&_&&_.end()}}}function bt(e){let n,o;return{c(){n=w("div"),n.textContent="Listening...",x(n,"class","listening")},m(t,e){m(t,n,e)},i(t){o||O((()=>{o=tt(n,e[13],{duration:400}),o.start()}))},o:t,d(t){t&&v(n)}}}function xt(t){let e,n;return{c(){e=w("span"),x(e,"style",n=t[30]<t[6].length-1?"width:0.25em;":t[9]?"width:1.2em;":"")},m(t,n){m(t,e,n)},p(t,o){576&o&&n!==(n=t[30]<t[6].length-1?"width:0.25em;":t[9]?"width:1.2em;":"")&&x(e,"style",n)},d(t){t&&v(e)}}}function Ct(e){let n,o,i,r,s,l,c,a,d,u=e[28].word+"",f=e[30]<e[6].length&&xt(e);return{c(){n=w("div"),o=w("div"),r=b(),s=w("div"),l=y(u),c=b(),f&&f.c(),x(o,"class","TransscriptItemBgDiv"),x(s,"class","TransscriptItemContent"),x(n,"class",d="TranscriptItem "+e[15](e[28])),_(n,"Entity",null!==e[28].entityType),_(n,"Final",e[28].isFinal)},m(t,e){m(t,n,e),p(n,o),p(n,r),p(n,s),p(s,l),p(s,c),f&&f.m(s,null)},p(t,e){64&e&&u!==(u=t[28].word+"")&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(l,u),t[30]<t[6].length?f?f.p(t,e):(f=xt(t),f.c(),f.m(s,null)):f&&(f.d(1),f=null),64&e&&d!==(d="TranscriptItem "+t[15](t[28]))&&x(n,"class",d),64&e&&_(n,"Entity",null!==t[28].entityType),64&e&&_(n,"Final",t[28].isFinal)},i(t){i||O((()=>{i=tt(o,e[13],{}),i.start()})),a||O((()=>{a=tt(s,e[13],{}),a.start()}))},o:t,d(t){t&&v(n),f&&f.d()}}}function kt(e){let n,o,i,r,s,l,c,a;return{c(){n=w("div"),o=w("div"),i=b(),r=w("div"),s=$("svg"),l=$("path"),x(o,"class","TransscriptItemBgDiv"),k(o,"background-color",e[4]),x(l,"stroke","currentColor"),x(l,"stroke-width","3"),x(l,"d","M7.191 11.444l4.059 6.107 7.376-12.949"),x(l,"fill","none"),x(l,"fill-rule","evenodd"),k(s,"width","2rem"),k(s,"height","2rem"),k(s,"position","absolute"),k(s,"transform","translate(-0.5rem, -0.5rem)"),k(s,"stroke","#eee"),x(s,"viewBox","0 0 24 24"),x(s,"xmlns","http://www.w3.org/2000/svg"),k(r,"width","1.0rem"),k(r,"height","1rem"),k(r,"position","relative"),x(n,"class","TranscriptItem")},m(t,e){m(t,n,e),p(n,o),p(n,i),p(n,r),p(r,s),p(s,l)},p(t,e){16&e&&k(o,"background-color",t[4])},i(t){c||O((()=>{c=tt(l,e[11],{duration:500}),c.start()})),a||O((()=>{a=tt(n,e[13],{duration:200,maxWidth:3}),a.start()}))},o:t,d(t){t&&v(n)}}}function _t(e){let n,o,r,s,l,c,a=e[7]&&yt(e);return{c(){n=w("main"),a&&a.c(),o=b(),r=w("link"),this.c=t,k(n,"--voffset",e[1]),k(n,"--hoffset",e[2]),k(n,"--fontsize",e[3]),k(n,"--highlight-color",e[4]),k(n,"--text-bg-color",e[5]),_(n,"placementTop","top"===e[0]),x(r,"href","https://fonts.googleapis.com/css2?family=Saira+Condensed:wght@700&display=swap"),x(r,"rel","stylesheet")},m(t,i){var d,u,f,h;m(t,n,i),a&&a.m(n,null),m(t,o,i),p(document.head,r),s=!0,l||(d=wt,u="message",f=e[14],d.addEventListener(u,f,h),c=()=>d.removeEventListener(u,f,h),l=!0)},p(t,[e]){t[7]?a?(a.p(t,e),128&e&&X(a,1)):(a=yt(t),a.c(),X(a,1),a.m(n,null)):a&&(Q={r:0,c:[],p:Q},Y(a,1,1,(()=>{a=null})),Q.r||i(Q.c),Q=Q.p),(!s||2&e)&&k(n,"--voffset",t[1]),(!s||4&e)&&k(n,"--hoffset",t[2]),(!s||8&e)&&k(n,"--fontsize",t[3]),(!s||16&e)&&k(n,"--highlight-color",t[4]),(!s||32&e)&&k(n,"--text-bg-color",t[5]),1&e&&_(n,"placementTop","top"===t[0])},i(t){s||(X(a),s=!0)},o(t){Y(a),s=!1},d(t){t&&v(n),a&&a.d(),t&&v(o),v(r),l=!1,c()}}}function St(t,e,n){let o,i,{placement:r}=e,{voffset:s="3rem"}=e,{hoffset:l="2rem"}=e,{fontsize:c="1.5rem"}=e,{highlightcolor:a="#15e8b5"}=e,{textbgcolor:d="#202020"}=e,u=[],f=!1,h=null,g=null,p=dt.ClientState.Disconnected,m=!1,v=!1,w=!1;const $=z(),y=(t,e)=>{$.dispatchEvent(new CustomEvent(t,{detail:e,composed:!0}))},b=ut(ht),x=ut(((t,{delay:e=0,duration:n=400})=>({delay:e,duration:n,easing:ft,css:t=>`\n        opacity: ${pt(gt,t,0,1)};\n        max-height: ${10*pt(gt,t,0,.6)}rem;\n      `}))),C=ut(((t,{delay:e=0,duration:n=350,maxWidth:o=10})=>({delay:e,duration:n,css:t=>`\n        max-width: ${pt(gt,t,0,1)*o}rem;\n      `}))),k=t=>{if(void 0===t)return;i&&f&&i.dispatchEvent(new CustomEvent("updateVU",{detail:{level:1,seekTimeMs:1e3}})),t.isFinal?S(u.length>0?2e3:0):u.length>0&&(m||n(17,m=!0),S(2e3));const e=`${t.contextId}/${t.id}`;null!==g?g!==e&&(n(9,w=!1),g=e):g=e,n(6,u=[]),t.words.forEach((t=>{n(6,u[t.index]={word:t.value,serialNumber:t.index,entityType:null,isFinal:t.isFinal,hide:!1},u)})),t.entities.forEach((t=>{n(6,u[t.startPosition].word=t.value,u),n(6,u[t.startPosition].entityType=t.type,u),n(6,u[t.startPosition].isFinal=t.isFinal,u),n(6,u[t.startPosition].hide=!1,u);for(let e=t.startPosition+1;e<t.endPosition;e++)u[e]&&n(6,u[e].hide=!0,u)})),n(6,u=u.filter((t=>!t.hide)))};$.onSegmentUpdate=k;const _=t=>{y("debug","big-transcript.ping 1")},S=(t=0)=>{E(),h=window.setTimeout((()=>{h=null,m&&n(17,m=!1)}),t)},E=()=>{null!==h&&(window.clearTimeout(h),h=null)};return B((()=>{const t=t=>k(t.detail);return $.addEventListener("speechsegment",t),$.addEventListener("ping",_),()=>{cancelAnimationFrame(null),$.removeEventListener("speechsegment",t),$.removeEventListener("ping",_)}})),t.$$set=t=>{"placement"in t&&n(0,r=t.placement),"voffset"in t&&n(1,s=t.voffset),"hoffset"in t&&n(2,l=t.hoffset),"fontsize"in t&&n(3,c=t.fontsize),"highlightcolor"in t&&n(4,a=t.highlightcolor),"textbgcolor"in t&&n(5,d=t.textbgcolor)},t.$$.update=()=>{if(64&t.$$.dirty&&n(10,o=0===u.length),196736&t.$$.dirty){const t=p===dt.ClientState.Recording||m;t!==v&&y("visibilitychanged",t),n(7,v=t)}},[r,s,l,c,a,d,u,v,i,w,o,b,x,C,t=>{switch(t.data.type){case"speechsegment":k(t.data.segment);break;case"holdstart":f=!0;break;case"holdend":f=!1;break;case"speechhandled":t.data.success&&n(9,w=!0);break;case"speechstate":n(16,p=t.data.state),p===dt.ClientState.Recording&&(n(9,w=!1),n(6,u=[]),g=null)}},t=>t.entityType||"",p,m,function(t){F[t?"unshift":"push"]((()=>{i=t,n(8,i)}))}]}customElements.define("big-transcript",class extends it{constructor(t){super(),this.shadowRoot.innerHTML="<style>.BigTranscript{position:relative;user-select:none;font-family:'Saira Condensed', sans-serif;text-transform:uppercase;color:#fff;font-size:var(--fontsize);line-height:135%;display:flex;flex-direction:row;justify-content:start;flex-wrap:wrap}.TranscriptItem{position:relative;display:flex;flex-direction:row;align-items:center}.Entity{color:var(--highlight-color)}.TransscriptItemContent{z-index:1;display:flex;flex-wrap:nowrap;flex-direction:row;align-items:center;overflow:hidden}.TransscriptItemBgDiv{position:absolute;box-sizing:content-box;width:100%;height:100%;top:-0.2rem;left:-0.8rem;margin:0;padding:0.2rem 0.8rem;background-color:var(--text-bg-color);z-index:-1}.placementTop{position:fixed;top:0;left:0;right:0;bottom:0;margin:var(--voffset) var(--hoffset) 0 var(--hoffset);z-index:50;pointer-events:none}.listening{animation:flow 1s linear infinite;background:linear-gradient(-60deg, #fff8, #fffc, #fff8, #fffc, #fff8);background-size:200%;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;-webkit-box-decoration-break:clone}@keyframes flow{0%{background-position:100% 50%}100%{background-position:0% 50%}}</style>",ot(this,{target:this.shadowRoot,props:S(this.attributes),customElement:!0},St,_t,s,{placement:0,voffset:1,hoffset:2,fontsize:3,highlightcolor:4,textbgcolor:5}),t&&(t.target&&m(t.target,this,t.anchor),t.props&&(this.$set(t.props),U()))}static get observedAttributes(){return["placement","voffset","hoffset","fontsize","highlightcolor","textbgcolor"]}get placement(){return this.$$.ctx[0]}set placement(t){this.$set({placement:t}),U()}get voffset(){return this.$$.ctx[1]}set voffset(t){this.$set({voffset:t}),U()}get hoffset(){return this.$$.ctx[2]}set hoffset(t){this.$set({hoffset:t}),U()}get fontsize(){return this.$$.ctx[3]}set fontsize(t){this.$set({fontsize:t}),U()}get highlightcolor(){return this.$$.ctx[4]}set highlightcolor(t){this.$set({highlightcolor:t}),U()}get textbgcolor(){return this.$$.ctx[5]}set textbgcolor(t){this.$set({textbgcolor:t}),U()}})}();
//# sourceMappingURL=big-transcript.js.map
