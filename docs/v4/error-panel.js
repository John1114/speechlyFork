!function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t}function c(e,t){e.appendChild(t)}function s(e,t,n){e.insertBefore(t,n||null)}function l(e){e.parentNode.removeChild(e)}function a(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function u(){return d(" ")}function p(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function f(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function h(e,t,n){e.classList[n?"add":"remove"](t)}function m(e){const t={};for(const n of e)t[n.name]=n.value;return t}let g;function C(e){g=e}const w=[],b=[],$=[],y=[],S=Promise.resolve();let x=!1;function N(e){$.push(e)}let v=!1;const k=new Set;function _(){if(!v){v=!0;do{for(let e=0;e<w.length;e+=1){const t=w[e];C(t),R(t.$$)}for(C(null),w.length=0;b.length;)b.pop()();for(let e=0;e<$.length;e+=1){const t=$[e];k.has(t)||(k.add(t),t())}$.length=0}while(w.length);for(;y.length;)y.pop()();x=!1,v=!1,k.clear()}}function R(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(N)}}const T=new Set;const E="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function A(e,t){-1===e.$$.dirty[0]&&(w.push(e),x||(x=!0,S.then(_)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function M(i,c,s,a,d,u,p=[-1]){const f=g;C(i);const h=i.$$={fragment:null,ctx:null,props:u,update:e,not_equal:d,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:c.context||[]),callbacks:n(),dirty:p,skip_bound:!1};let m=!1;if(h.ctx=s?s(i,c.props||{},((e,t,...n)=>{const o=n.length?n[0]:t;return h.ctx&&d(h.ctx[e],h.ctx[e]=o)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](o),m&&A(i,e)),t})):[],h.update(),m=!0,o(h.before_update),h.fragment=!!a&&a(h.ctx),c.target){if(c.hydrate){const e=function(e){return Array.from(e.childNodes)}(c.target);h.fragment&&h.fragment.l(e),e.forEach(l)}else h.fragment&&h.fragment.c();c.intro&&((w=i.$$.fragment)&&w.i&&(T.delete(w),w.i(b))),function(e,n,i,c){const{fragment:s,on_mount:l,on_destroy:a,after_update:d}=e.$$;s&&s.m(n,i),c||N((()=>{const n=l.map(t).filter(r);a?a.push(...n):o(n),e.$$.on_mount=[]})),d.forEach(N)}(i,c.target,c.anchor,c.customElement),_()}var w,b;C(f)}let B;"function"==typeof HTMLElement&&(B=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(t).filter(r);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){o(this.$$.on_disconnect)}$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var H,L,P,D,I,F=(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ClientState=void 0,(n=t.ClientState||(t.ClientState={}))[n.Failed=0]="Failed",n[n.NoBrowserSupport=1]="NoBrowserSupport",n[n.NoAudioConsent=2]="NoAudioConsent",n[n.Disconnected=3]="Disconnected",n[n.Disconnecting=4]="Disconnecting",n[n.Connecting=5]="Connecting",n[n.Connected=6]="Connected",n[n.Starting=7]="Starting",n[n.Stopping=8]="Stopping",n[n.Recording=9]="Recording"}(H={exports:{}},H.exports),H.exports);!function(e){e.Failed="Failed",e.NoBrowserSupport="NoBrowserSupport",e.NoAudioConsent="NoAudioConsent",e.Idle="Idle",e.Connecting="Connecting",e.Ready="Ready",e.Recording="Recording",e.Loading="Loading"}(L||(L={})),function(e){e.Poweron="poweron",e.Mic="mic",e.Error="error",e.Denied="denied"}(P||(P={})),function(e){e.Hold="hold",e.Click="click",e.Noninteractive="noninteractive"}(D||(D={})),function(e){e.None="none",e.Connecting="connecting",e.Busy="busy"}(I||(I={})),F.ClientState.Disconnected,P.Poweron,D.Click,I.None,F.ClientState.Disconnecting,P.Poweron,D.Noninteractive,I.Connecting,F.ClientState.Connecting,P.Poweron,D.Noninteractive,I.Connecting,F.ClientState.Connected,P.Mic,D.Hold,I.None,F.ClientState.Starting,P.Mic,D.Hold,I.Connecting,F.ClientState.Recording,P.Mic,D.Hold,I.None,F.ClientState.Stopping,P.Mic,D.Noninteractive,I.Busy,F.ClientState.Failed,P.Error,D.Click,I.None,F.ClientState.NoBrowserSupport,P.Error,D.Click,I.None,F.ClientState.NoAudioConsent,P.Denied,D.Click,I.None,L.Idle,P.Poweron,D.Click,I.None,L.Connecting,P.Poweron,D.Noninteractive,I.Connecting,L.Ready,P.Mic,D.Hold,I.None,L.Recording,P.Mic,D.Hold,I.None,L.Loading,P.Mic,D.Noninteractive,I.Busy,L.Failed,P.Error,D.Click,I.None,L.NoBrowserSupport,P.Error,D.Click,I.None,L.NoAudioConsent,P.Denied,D.Click,I.None;const{window:q}=E;function z(e){let t,n,o,r,i,d,f,h,m=e[2]===K&&j(e),g=e[2]===F.ClientState.NoAudioConsent&&O(),C=e[2]===F.ClientState.NoBrowserSupport&&U(),w=e[2]===Q&&G();return{c(){t=a("errorDiv"),n=a("errorLeft"),n.textContent="×",o=u(),m&&m.c(),r=u(),g&&g.c(),i=u(),C&&C.c(),d=u(),w&&w.c()},m(l,a){s(l,t,a),c(t,n),c(t,o),m&&m.m(t,null),c(t,r),g&&g.m(t,null),c(t,i),C&&C.m(t,null),c(t,d),w&&w.m(t,null),f||(h=p(n,"click",e[4]),f=!0)},p(e,n){e[2]===K?m?m.p(e,n):(m=j(e),m.c(),m.m(t,r)):m&&(m.d(1),m=null),e[2]===F.ClientState.NoAudioConsent?g?g.p(e,n):(g=O(),g.c(),g.m(t,i)):g&&(g.d(1),g=null),e[2]===F.ClientState.NoBrowserSupport?C||(C=U(),C.c(),C.m(t,d)):C&&(C.d(1),C=null),e[2]===Q?w?w.p(e,n):(w=G(),w.c(),w.m(t,null)):w&&(w.d(1),w=null)},d(e){e&&l(t),m&&m.d(),g&&g.d(),C&&C.d(),w&&w.d(),f=!1,h()}}}function j(e){let t,n,o,r,i,p,h,m,g,C,w,b,$,y=e[1].appId+"";return{c(){t=a("errorRight"),n=a("h1"),n.textContent="Failed to connect Speechly",o=u(),r=a("p"),i=d("Please check that Speechly application id '"),p=d(y),h=d("' has been successfully deployed."),m=u(),g=a("p"),C=a("a"),C.textContent="Troubleshooting",w=d("\n                \n            "),b=a("a"),$=d("Reload"),f(C,"href","https://docs.speechly.com/faq/#error-invalid-app-id"),f(b,"href",window.location.href)},m(e,l){s(e,t,l),c(t,n),c(t,o),c(t,r),c(r,i),c(r,p),c(r,h),c(t,m),c(t,g),c(g,C),c(g,w),c(g,b),c(b,$)},p(e,t){2&t&&y!==(y=e[1].appId+"")&&function(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}(p,y)},d(e){e&&l(t)}}}function O(t){let n,o,r,i,p,h,m,g,C,w;return{c(){n=a("errorRight"),o=a("h1"),o.textContent="No Mic Permission",r=u(),i=a("p"),i.textContent="To use the voice interface, please allow your web browser access the\n            microphone and reload.",p=u(),h=a("p"),m=a("a"),m.textContent="Troubleshooting",g=d("\n                \n            "),C=a("a"),w=d("Reload"),f(m,"href","https://docs.speechly.com/faq/#error-no-audio-consent"),f(C,"href",window.location.href)},m(e,t){s(e,n,t),c(n,o),c(n,r),c(n,i),c(n,p),c(n,h),c(h,m),c(h,g),c(h,C),c(C,w)},p:e,d(e){e&&l(n)}}}function U(e){let t;return{c(){t=a("errorRight"),t.innerHTML='<h1>Unsupported Browser</h1> \n          <p>To use the voice interface, please visit this site using a supported\n            browser.</p> \n          <p><a href="https://docs.speechly.com/client-libraries/supported-browsers/#error-no-browser-support">Troubleshooting</a></p>'},m(e,n){s(e,t,n)},d(e){e&&l(t)}}}function G(t){let n,o,r,i,p,h,m,g,C,w;return{c(){n=a("errorRight"),o=a("h1"),o.textContent="HTTPS Required",r=u(),i=a("p"),i.textContent="To use the voice interface, please visit this site using the secure\n            https:// protocol.",p=u(),h=a("p"),m=a("a"),m.textContent="Troubleshooting",g=d("\n                \n            "),C=a("a"),w=d("Try with HTTPS"),f(m,"href","https://docs.speechly.com/faq/#error-https-required"),f(C,"href",window.location.href.replace(/^http(?!s)/,"https"))},m(e,t){s(e,n,t),c(n,o),c(n,r),c(n,i),c(n,p),c(n,h),c(h,m),c(h,g),c(h,C),c(C,w)},p:e,d(e){e&&l(n)}}}function J(t){let n,o,r,i,d,m=t[2]&&z(t);return{c(){n=a("link"),o=u(),r=a("main"),m&&m.c(),this.c=e,f(n,"href","https://fonts.googleapis.com/css2?family=Saira+Condensed:wght@700&display=swap"),f(n,"rel","stylesheet"),h(r,"bottom","bottom"===t[0])},m(e,l){c(document.head,n),s(e,o,l),s(e,r,l),m&&m.m(r,null),i||(d=p(q,"message",t[3]),i=!0)},p(e,[t]){e[2]?m?m.p(e,t):(m=z(e),m.c(),m.m(r,null)):m&&(m.d(1),m=null),1&t&&h(r,"bottom","bottom"===e[0])},i:e,o:e,d(e){l(n),e&&l(o),e&&l(r),m&&m.d(),i=!1,d()}}}const K="InvaldAppId",Q="HttpsRequired";function V(e,t,n){let{placement:o=null}=t,r={};let i=null;const c=(e,t)=>{n(1,r={appId:t})},s=e=>{var t,o;switch(e){case F.ClientState.Failed:n(2,i=K);break;case F.ClientState.NoAudioConsent:case F.ClientState.NoBrowserSupport:if("https:"!==(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.protocol)&&("localhost"!==(o=window.location.hostname)&&"[::1]"!==o&&null===o.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))){n(2,i=Q);break}n(2,i=e)}};return e.$$set=e=>{"placement"in e&&n(0,o=e.placement)},[o,r,i,e=>{switch(e.data.type){case"holdstart":s(e.data.state);break;case"initialized":console.log(e.data),c(e.data.status,e.data.appId)}},()=>{n(2,i=null)}]}class W extends B{constructor(e){super(),this.shadowRoot.innerHTML="<style>main.bottom{position:fixed;bottom:0;left:0;right:0;min-height:10em;z-index:51;user-select:none;pointer-events:none}errorDiv{box-sizing:border-box;position:relative;width:100%;min-height:10em;background-color:white;user-select:text;pointer-events:all;color:black;display:flex;box-shadow:0 0 8px #00000040;flex-direction:row}errorLeft{box-sizing:border-box;width:2rem;background-color:red;padding:0.2rem 0.2rem;color:#ffffff;display:flex;flex-direction:column;align-items:center;justify-content:start;font-size:1.5rem;cursor:pointer}errorRight{background-color:white;padding:1rem 3rem 1rem 1rem;overflow:auto;flex-grow:1}h1{font-size:1.5rem;margin:0;padding:0 0 0.5rem 0;font-family:'Saira Condensed', sans-serif;text-transform:uppercase}p{margin:0;padding:0 0 0.5rem 0;color:#999}a{color:#000}</style>",M(this,{target:this.shadowRoot,props:m(this.attributes),customElement:!0},V,J,i,{placement:0}),e&&(e.target&&s(e.target,this,e.anchor),e.props&&(this.$set(e.props),_()))}static get observedAttributes(){return["placement"]}get placement(){return this.$$.ctx[0]}set placement(e){this.$set({placement:e}),_()}}customElements.get("error-panel")?console.warn("Skipping re-defining customElement error-panel"):customElements.define("error-panel",W)}();
//# sourceMappingURL=error-panel.js.map
