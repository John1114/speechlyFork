!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e}let c=!1;const s=new Set;function a(t,e){c&&s.delete(e),e.parentNode!==t&&t.appendChild(e)}function l(t,e,n){c&&s.delete(e),(e.parentNode!==t||n&&e.nextSibling!==n)&&t.insertBefore(e,n||null)}function d(t){c?s.add(t):t.parentNode&&t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function g(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:m(t,e,n)}function w(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function $(t){const e={};for(const n of t)e[n.name]=n.value;return e}let b;function y(t){b=t}function x(){if(!b)throw new Error("Function called outside component initialization");return b}const C=[],N=[],E=[],M=[],k=Promise.resolve();let S=!1;function z(t){E.push(t)}let _=!1;const B=new Set;function L(){if(!_){_=!0;do{for(let t=0;t<C.length;t+=1){const e=C[t];y(e),D(e.$$)}for(y(null),C.length=0;N.length;)N.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];B.has(e)||(B.add(e),e())}E.length=0}while(C.length);for(;M.length;)M.pop()();S=!1,_=!1,B.clear()}}function D(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const R=new Set;const P="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function A(t,e){-1===t.$$.dirty[0]&&(C.push(t),S||(S=!0,k.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function F(r,a,l,u,h,f,p=[-1]){const g=b;y(r);const m=r.$$={fragment:null,ctx:null,props:f,update:t,not_equal:h,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(g?g.$$.context:a.context||[]),callbacks:n(),dirty:p,skip_bound:!1};let v=!1;if(m.ctx=l?l(r,a.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return m.ctx&&h(m.ctx[t],m.ctx[t]=o)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](o),v&&A(r,t)),e})):[],m.update(),v=!0,o(m.before_update),m.fragment=!!u&&u(m.ctx),a.target){if(a.hydrate){c=!0;const t=function(t){return Array.from(t.childNodes)}(a.target);m.fragment&&m.fragment.l(t),t.forEach(d)}else m.fragment&&m.fragment.c();a.intro&&((w=r.$$.fragment)&&w.i&&(R.delete(w),w.i($))),function(t,n,r,c){const{fragment:s,on_mount:a,on_destroy:l,after_update:d}=t.$$;s&&s.m(n,r),c||z((()=>{const n=a.map(e).filter(i);l?l.push(...n):o(n),t.$$.on_mount=[]})),d.forEach(z)}(r,a.target,a.anchor,a.customElement),function(){c=!1;for(const t of s)t.parentNode.removeChild(t);s.clear()}(),L()}var w,$;y(g)}let H;function T(e){let n,o,i,r,c,s,u,f;return{c(){n=h("svg"),o=h("defs"),i=h("linearGradient"),r=h("stop"),c=h("stop"),s=h("g"),u=h("path"),f=h("path"),this.c=t,m(r,"stop-color","var(--gradient-stop1)"),m(r,"offset","0%"),m(c,"stop-color","var(--gradient-stop2)"),m(c,"offset","100%"),m(i,"x1","50%"),m(i,"y1","0%"),m(i,"x2","50%"),m(i,"y2","100%"),m(i,"id","a"),m(u,"d","M46 3.119c23.683 0 42.881 19.198 42.881 42.881S69.683 88.881 46 88.881 3.119 69.683 3.119 46 22.317 3.119 46 3.119z"),m(u,"fill","#FFF"),m(f,"d","M46 0C20.595 0 0 20.595 0 46s20.595 46 46 46 46-20.595 46-46S71.405 0 46 0zm0 3.119c23.683 0 42.881 19.198 42.881 42.881S69.683 88.881 46 88.881 3.119 69.683 3.119 46 22.317 3.119 46 3.119z"),m(f,"fill","url(#a)"),m(s,"fill","none"),m(s,"fillrule","nonzero"),m(n,"class","buttonFrameEl"),m(n,"viewBox","0 0 92 92"),m(n,"xmlns","http://www.w3.org/2000/svg")},m(t,e){l(t,n,e),a(n,o),a(o,i),a(i,r),a(i,c),a(n,s),a(s,u),a(s,f)},p:t,i:t,o:t,d(t){t&&d(n)}}}"function"==typeof HTMLElement&&(H=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(e).filter(i);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){o(this.$$.on_disconnect)}$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});customElements.define("mic-frame",class extends H{constructor(t){super(),this.shadowRoot.innerHTML="<style>svg{position:absolute;width:100%;height:100%;pointer-events:none;user-select:none;transform:rotate(var(--fx-rotation))}</style>",F(this,{target:this.shadowRoot,props:$(this.attributes),customElement:!0},null,T,r,{}),t&&t.target&&l(t.target,this,t.anchor)}});var I,V,j,G,O,q=(function(t,e){var n;Object.defineProperty(e,"__esModule",{value:!0}),(n=e.ClientState||(e.ClientState={}))[n.Failed=0]="Failed",n[n.NoBrowserSupport=1]="NoBrowserSupport",n[n.NoAudioConsent=2]="NoAudioConsent",n[n.Disconnected=3]="Disconnected",n[n.Disconnecting=4]="Disconnecting",n[n.Connecting=5]="Connecting",n[n.Connected=6]="Connected",n[n.Starting=7]="Starting",n[n.Stopping=8]="Stopping",n[n.Recording=9]="Recording"}(I={exports:{}},I.exports),I.exports);!function(t){t.Failed="Failed",t.NoBrowserSupport="NoBrowserSupport",t.NoAudioConsent="NoAudioConsent",t.Idle="Idle",t.Connecting="Connecting",t.Ready="Ready",t.Recording="Recording",t.Loading="Loading"}(V||(V={})),function(t){t.Poweron="poweron",t.Mic="mic",t.Error="error",t.Denied="denied"}(j||(j={})),function(t){t.Hold="hold",t.Click="click",t.Noninteractive="noninteractive"}(G||(G={})),function(t){t.None="none",t.Connecting="connecting",t.Busy="busy"}(O||(O={}));const U={[q.ClientState.Disconnected]:{icon:j.Poweron,behaviour:G.Click,effect:O.None},[q.ClientState.Disconnecting]:{icon:j.Poweron,behaviour:G.Noninteractive,effect:O.Connecting},[q.ClientState.Connecting]:{icon:j.Poweron,behaviour:G.Noninteractive,effect:O.Connecting},[q.ClientState.Connected]:{icon:j.Mic,behaviour:G.Hold,effect:O.None},[q.ClientState.Starting]:{icon:j.Mic,behaviour:G.Hold,effect:O.Connecting},[q.ClientState.Recording]:{icon:j.Mic,behaviour:G.Hold,effect:O.None},[q.ClientState.Stopping]:{icon:j.Mic,behaviour:G.Noninteractive,effect:O.Busy},[q.ClientState.Failed]:{icon:j.Error,behaviour:G.Click,effect:O.None},[q.ClientState.NoBrowserSupport]:{icon:j.Error,behaviour:G.Click,effect:O.None},[q.ClientState.NoAudioConsent]:{icon:j.Denied,behaviour:G.Click,effect:O.None},[V.Idle]:{icon:j.Poweron,behaviour:G.Click,effect:O.None},[V.Connecting]:{icon:j.Poweron,behaviour:G.Noninteractive,effect:O.Connecting},[V.Ready]:{icon:j.Mic,behaviour:G.Hold,effect:O.None},[V.Recording]:{icon:j.Mic,behaviour:G.Hold,effect:O.None},[V.Loading]:{icon:j.Mic,behaviour:G.Noninteractive,effect:O.Busy},[V.Failed]:{icon:j.Error,behaviour:G.Click,effect:O.None},[V.NoBrowserSupport]:{icon:j.Error,behaviour:G.Click,effect:O.None},[V.NoAudioConsent]:{icon:j.Denied,behaviour:G.Click,effect:O.None}};function J(t){let e,n,o,i;return{c(){e=h("svg"),n=h("g"),o=h("path"),i=h("rect"),m(o,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),m(i,"x","20"),m(i,"y","1"),m(i,"width","16"),m(i,"height","37"),m(i,"rx","8"),m(n,"fill","#000"),m(n,"fillrule","evenodd"),m(e,"class","buttonIconEl"),m(e,"viewBox","0 0 56 56"),m(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){l(t,e,r),a(e,n),a(n,o),a(n,i)},d(t){t&&d(e)}}}function K(t){let e,n,o,i;return{c(){e=h("svg"),n=h("g"),o=h("path"),i=h("path"),m(o,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),m(o,"fillrule","nonzero"),m(i,"d","M37 13.081V31a8 8 0 11-16 0v-1.919l16-16zM26 1a8 8 0 018 8v1.319L18 26.318V9a8 8 0 018-8zM37.969 7.932l3.74-7.35 3.018 2.625zM39.654 10.608l7.531-3.359.695 3.94z"),m(n,"fill","#000"),m(n,"fillrule","evenodd"),m(e,"class","buttonIconEl"),m(e,"viewBox","0 0 56 56"),m(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){l(t,e,r),a(e,n),a(n,o),a(n,i)},d(t){t&&d(e)}}}function Q(t){let e,n,o,i;return{c(){e=h("svg"),n=h("g"),o=h("path"),i=h("path"),m(o,"d","M36 14.828V30a8 8 0 01-15.961.79l15.96-15.962zM28 1a8 8 0 018 8v.172L20 25.173V9a8 8 0 018-8z"),m(i,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),m(n,"fill","#000"),m(n,"fillrule","nonzero"),m(e,"class","buttonIconEl"),m(e,"viewBox","0 0 56 56"),m(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){l(t,e,r),a(e,n),a(n,o),a(n,i)},d(t){t&&d(e)}}}function W(t){let e,n,o,i;return{c(){e=h("svg"),n=h("g"),o=h("path"),i=h("rect"),m(o,"d","M52 28c0 13.255-10.745 24-24 24S4 41.255 4 28c0-8.921 4.867-16.705 12.091-20.842l1.984 3.474C12.055 14.08 8 20.566 8 28c0 11.046 8.954 20 20 20s20-8.954 20-20c0-7.434-4.056-13.92-10.075-17.368L39.91 7.16C47.133 11.296 52 19.079 52 28z"),m(o,"fillrule","nonzero"),m(i,"x","24"),m(i,"y","1"),m(i,"width","8"),m(i,"height","23"),m(i,"rx","4"),m(n,"fill","#000"),m(n,"fillrule","evenodd"),m(e,"class","buttonIconEl"),m(e,"viewBox","0 0 56 56"),m(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){l(t,e,r),a(e,n),a(n,o),a(n,i)},d(t){t&&d(e)}}}function X(e){let n,o,i,r,c=e[0]===j.Mic&&J(),s=e[0]===j.Error&&K(),a=e[0]===j.Denied&&Q(),u=e[0]===j.Poweron&&W();return{c(){c&&c.c(),n=p(),s&&s.c(),o=p(),a&&a.c(),i=p(),u&&u.c(),r=f(""),this.c=t},m(t,e){c&&c.m(t,e),l(t,n,e),s&&s.m(t,e),l(t,o,e),a&&a.m(t,e),l(t,i,e),u&&u.m(t,e),l(t,r,e)},p(t,[e]){t[0]===j.Mic?c||(c=J(),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),t[0]===j.Error?s||(s=K(),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null),t[0]===j.Denied?a||(a=Q(),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null),t[0]===j.Poweron?u||(u=W(),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},i:t,o:t,d(t){c&&c.d(t),t&&d(n),s&&s.d(t),t&&d(o),a&&a.d(t),t&&d(i),u&&u.d(t),t&&d(r)}}}function Y(t,e,n){let{icon:o=j.Mic}=e;return t.$$set=t=>{"icon"in t&&n(0,o=t.icon)},[o]}function Z(e){let n,o,i,r,c,s,u,f;return{c(){n=h("svg"),o=h("defs"),i=h("linearGradient"),r=h("stop"),c=h("stop"),s=h("filter"),u=h("feGaussianBlur"),f=h("circle"),this.c=t,m(r,"stop-color","var(--gradient-stop1)"),m(r,"offset","0%"),m(c,"stop-color","var(--gradient-stop2)"),m(c,"offset","100%"),m(i,"x1","50%"),m(i,"y1","10%"),m(i,"x2","50%"),m(i,"y2","100%"),m(i,"id","a"),m(u,"stdDeviation","18"),m(u,"in","SourceGraphic"),m(s,"x","-35%"),m(s,"y","-35%"),m(s,"width","170%"),m(s,"height","170%"),m(s,"filterUnits","objectBoundingBox"),m(s,"id","b"),m(f,"filter","url(#b)"),m(f,"cx","124"),m(f,"cy","124"),m(f,"r","79"),m(f,"fill","url(#a)"),m(f,"fillrule","evenodd"),m(n,"viewBox","0 0 246 246"),m(n,"xmlns","http://www.w3.org/2000/svg")},m(t,e){l(t,n,e),a(n,o),a(o,i),a(i,r),a(i,c),a(o,s),a(s,u),a(n,f)},p:t,i:t,o:t,d(t){t&&d(n)}}}customElements.define("mic-icon",class extends H{constructor(t){super(),this.shadowRoot.innerHTML="<style>svg{position:absolute;width:60%;height:60%;top:50%;left:50%;transform:translate(-50%, -50%);pointer-events:none;transition:0.25s}</style>",F(this,{target:this.shadowRoot,props:$(this.attributes),customElement:!0},Y,X,r,{icon:0}),t&&(t.target&&l(t.target,this,t.anchor),t.props&&(this.$set(t.props),L()))}static get observedAttributes(){return["icon"]}get icon(){return this.$$.ctx[0]}set icon(t){this.$set({icon:t}),L()}});customElements.define("mic-fx",class extends H{constructor(t){super(),this.shadowRoot.innerHTML="<style>svg{top:-75%;left:-75%;height:250%;width:250%;position:absolute;pointer-events:none;transform:rotate(var(--fx-rotation))}</style>",F(this,{target:this.shadowRoot,props:$(this.attributes),customElement:!0},null,Z,r,{}),t&&t.target&&l(t.target,this,t.anchor)}});const{window:tt}=P;function et(e){let n,i,r,c,s,h,f,$,b,y,x,C;return{c(){n=u("main"),i=u("div"),r=u("mic-fx"),c=p(),s=u("mic-frame"),h=p(),f=u("mic-icon"),b=p(),y=u("slot"),this.c=t,w(r,"opacity",e[6][1]),w(r,"transform","rotate("+e[3][1]+"deg)"),v(f,"icon",$=e[7].icon),w(f,"opacity",e[5][1]),m(i,"class","ButtonComponents"),w(i,"transform","scale("+e[4][1]+")"),w(n,"width",e[0]),w(n,"height",e[0]),w(n,"--gradient-stop1",e[1]),w(n,"--gradient-stop2",e[2]),w(n,"--fx-rotation",e[3][1]+"deg")},m(t,o){l(t,n,o),a(n,i),a(i,r),a(i,c),a(i,s),a(i,h),a(i,f),a(n,b),a(n,y),x||(C=[g(tt,"mouseup",e[9]),g(tt,"keydown",e[10]),g(tt,"keyup",e[11]),g(n,"mousedown",e[8]),g(n,"touchstart",e[8]),g(n,"dragstart",e[8]),g(n,"mouseup",e[9]),g(n,"touchend",e[9],{passive:!0}),g(n,"dragend",e[9])],x=!0)},p(t,[e]){64&e&&w(r,"opacity",t[6][1]),8&e&&w(r,"transform","rotate("+t[3][1]+"deg)"),128&e&&$!==($=t[7].icon)&&v(f,"icon",$),32&e&&w(f,"opacity",t[5][1]),16&e&&w(i,"transform","scale("+t[4][1]+")"),1&e&&w(n,"width",t[0]),1&e&&w(n,"height",t[0]),2&e&&w(n,"--gradient-stop1",t[1]),4&e&&w(n,"--gradient-stop2",t[2]),8&e&&w(n,"--fx-rotation",t[3][1]+"deg")},i:t,o:t,d(t){t&&d(n),x=!1,o(C)}}}function nt(t,e,n){let o,{icon:i=V.Idle}=e,{capturekey:r=" "}=e,{size:c="6rem"}=e,{gradientstop1:s="#15e8b5"}=e,{gradientstop2:a="#4fa1f9"}=e,{hide:l}=e,d=!1,u=0,h=[0,0],f=[0,0],p=[1,1],g=[0,0],m=U[i],v=null,w=0,$=0;const b=x(),y=(t,e)=>{b.dispatchEvent(new CustomEvent(t,{detail:e,composed:!0}))};!function(t){x().$$.on_mount.push(t)}((()=>{n(4,f=[1,0]);let t=null;const e=()=>{w=$,$=(new Date).getTime();const i=$-(w||$);m.effect===O.Connecting&&n(5,p[0]=.25*Math.cos($/2500*Math.PI*2)+.25,p),m.effect===O.Busy&&n(5,p[0]=.25*Math.cos($/1e3*Math.PI*2)+.25,p),n(4,f=[f[0],E(f[1],o?f[0]:0,.2,i)]),n(5,p=[p[0],E(p[1],p[0],.08,i)]),n(6,g=[g[0],E(g[1],g[0],.08,i)]),n(3,h=[h[0]+2.5,E(h[1],h[0],.05,i)]),t=requestAnimationFrame(e)};return e(),()=>cancelAnimationFrame(t)}));const C=t=>{t.preventDefault(),t.stopPropagation(),o&&!d&&(n(15,d=!0),u=Date.now(),n(4,f[0]=1.35,f),n(6,g[0]=1,g),M(),m.behaviour===G.Click&&(n(3,h[0]+=720,h),null===v&&(v=window.setTimeout((()=>{n(6,g[0]=0,g),v=null}),500))),b.onholdstart&&b.onholdstart(),y("holdstart"))},N=()=>{if(d){n(4,f[0]=1,f),n(6,g[0]=0,g),n(15,d=!1);const t={timeMs:Date.now()-u};M(),null!==v&&window.clearTimeout(v),b.onholdend&&b.onholdend(t),y("holdend",t)}},E=(t,e,n,o)=>t*(1-(n=Math.pow(n,1e3/60/o)))+e*n,M=(t=5)=>{void 0!==navigator.vibrate&&navigator.vibrate(t)};return t.$$set=t=>{"icon"in t&&n(12,i=t.icon),"capturekey"in t&&n(13,r=t.capturekey),"size"in t&&n(0,c=t.size),"gradientstop1"in t&&n(1,s=t.gradientstop1),"gradientstop2"in t&&n(2,a=t.gradientstop2),"hide"in t&&n(14,l=t.hide)},t.$$.update=()=>{16384&t.$$.dirty&&(o=void 0===l||"false"===l),36864&t.$$.dirty&&(d||(t=>{if(m!==t)switch(n(7,m=t),t.icon){case j.Mic:case j.Denied:case j.Error:n(5,p[0]=1,p)}})(U[i]))},[c,s,a,h,f,p,g,m,C,N,t=>{r&&(t.key===r&&(document.hasFocus()&&document.activeElement!==document.body&&document.activeElement!==document.documentElement&&document.activeElement||null||(t.repeat?(t.preventDefault(),t.stopPropagation()):C(t))))},t=>{t.key===r&&N()},i,r,l,d]}customElements.define("holdable-button",class extends H{constructor(t){super(),this.shadowRoot.innerHTML="<style>main{position:relative;pointer-events:auto;cursor:pointer;border-radius:50%;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none !important;-webkit-user-select:none !important}.ButtonComponents{width:100%;height:100%}</style>",F(this,{target:this.shadowRoot,props:$(this.attributes),customElement:!0},nt,et,r,{icon:12,capturekey:13,size:0,gradientstop1:1,gradientstop2:2,hide:14}),t&&(t.target&&l(t.target,this,t.anchor),t.props&&(this.$set(t.props),L()))}static get observedAttributes(){return["icon","capturekey","size","gradientstop1","gradientstop2","hide"]}get icon(){return this.$$.ctx[12]}set icon(t){this.$set({icon:t}),L()}get capturekey(){return this.$$.ctx[13]}set capturekey(t){this.$set({capturekey:t}),L()}get size(){return this.$$.ctx[0]}set size(t){this.$set({size:t}),L()}get gradientstop1(){return this.$$.ctx[1]}set gradientstop1(t){this.$set({gradientstop1:t}),L()}get gradientstop2(){return this.$$.ctx[2]}set gradientstop2(t){this.$set({gradientstop2:t}),L()}get hide(){return this.$$.ctx[14]}set hide(t){this.$set({hide:t}),L()}})}();
//# sourceMappingURL=holdable-button.js.map
