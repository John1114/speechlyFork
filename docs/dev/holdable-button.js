!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e}function s(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function u(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function d(t){return document.createTextNode(t)}function h(){return d(" ")}function p(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e,n){e in t?t[e]=n:f(t,e,n)}function m(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function w(t){const e={};for(const n of t)e[n.name]=n.value;return e}let v;function $(t){v=t}function b(){if(!v)throw new Error("Function called outside component initialization");return v}function y(){const t=b();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const i=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach((e=>{e.call(t,i)}))}}}const x=[],E=[],k=[],z=[],M=Promise.resolve();let _=!1;function L(t){k.push(t)}let C=!1;const T=new Set;function B(){if(!C){C=!0;do{for(let t=0;t<x.length;t+=1){const e=x[t];$(e),A(e.$$)}for($(null),x.length=0;E.length;)E.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];T.has(e)||(T.add(e),e())}k.length=0}while(x.length);for(;z.length;)z.pop()();_=!1,C=!1,T.clear()}}function A(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const F=new Set;const N="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function S(t,e){-1===t.$$.dirty[0]&&(x.push(t),_||(_=!0,M.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function P(r,s,c,l,u,d,h=[-1]){const p=v;$(r);const f=r.$$={fragment:null,ctx:null,props:d,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:n(),dirty:h,skip_bound:!1};let g=!1;if(f.ctx=c?c(r,s.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return f.ctx&&u(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),g&&S(r,t)),e})):[],f.update(),g=!0,o(f.before_update),f.fragment=!!l&&l(f.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);f.fragment&&f.fragment.l(t),t.forEach(a)}else f.fragment&&f.fragment.c();s.intro&&((m=r.$$.fragment)&&m.i&&(F.delete(m),m.i(w))),function(t,n,r,s){const{fragment:c,on_mount:a,on_destroy:l,after_update:u}=t.$$;c&&c.m(n,r),s||L((()=>{const n=a.map(e).filter(i);l?l.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(L)}(r,s.target,s.anchor,s.customElement),B()}var m,w;$(p)}let R;var V;function H(e){let n,o,i,r,l,d,h,p;return{c(){n=u("svg"),o=u("defs"),i=u("linearGradient"),r=u("stop"),l=u("stop"),d=u("g"),h=u("path"),p=u("path"),this.c=t,f(r,"stop-color","var(--gradient-stop1)"),f(r,"offset","0%"),f(l,"stop-color","var(--gradient-stop2)"),f(l,"offset","100%"),f(i,"x1","50%"),f(i,"y1","0%"),f(i,"x2","50%"),f(i,"y2","100%"),f(i,"id","a"),f(h,"d","M46 3.119c23.683 0 42.881 19.198 42.881 42.881S69.683 88.881 46 88.881 3.119 69.683 3.119 46 22.317 3.119 46 3.119z"),f(h,"fill","#FFF"),f(p,"d","M46 0C20.595 0 0 20.595 0 46s20.595 46 46 46 46-20.595 46-46S71.405 0 46 0zm0 3.119c23.683 0 42.881 19.198 42.881 42.881S69.683 88.881 46 88.881 3.119 69.683 3.119 46 22.317 3.119 46 3.119z"),f(p,"fill","url(#a)"),f(d,"fill","none"),f(d,"fillrule","nonzero"),f(n,"class","buttonFrameEl"),f(n,"viewBox","0 0 92 92"),f(n,"xmlns","http://www.w3.org/2000/svg")},m(t,e){c(t,n,e),s(n,o),s(o,i),s(i,r),s(i,l),s(n,d),s(d,h),s(d,p)},p:t,i:t,o:t,d(t){t&&a(n)}}}"function"==typeof HTMLElement&&(R=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(e).filter(i);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){o(this.$$.on_disconnect)}$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}),function(t){t.Poweron="poweron",t.Connecting="connecting",t.Mic="mic",t.Loading="loading",t.Failed="failed",t.NoAudioConsent="noaudioconsent"}(V||(V={}));function I(t){let e,n,o,i;return{c(){e=u("svg"),n=u("g"),o=u("path"),i=u("rect"),f(o,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),f(i,"x","20"),f(i,"y","1"),f(i,"width","16"),f(i,"height","37"),f(i,"rx","8"),f(n,"fill","#000"),f(n,"fillrule","evenodd"),f(e,"class","buttonIconEl"),f(e,"viewBox","0 0 56 56"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){c(t,e,r),s(e,n),s(n,o),s(n,i)},d(t){t&&a(e)}}}function D(t){let e,n,o,i;return{c(){e=u("svg"),n=u("g"),o=u("path"),i=u("path"),f(o,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),f(o,"fillrule","nonzero"),f(i,"d","M37 13.081V31a8 8 0 11-16 0v-1.919l16-16zM26 1a8 8 0 018 8v1.319L18 26.318V9a8 8 0 018-8zM37.969 7.932l3.74-7.35 3.018 2.625zM39.654 10.608l7.531-3.359.695 3.94z"),f(n,"fill","#000"),f(n,"fillrule","evenodd"),f(e,"class","buttonIconEl"),f(e,"viewBox","0 0 56 56"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){c(t,e,r),s(e,n),s(n,o),s(n,i)},d(t){t&&a(e)}}}function G(t){let e,n,o,i;return{c(){e=u("svg"),n=u("g"),o=u("path"),i=u("path"),f(o,"d","M36 14.828V30a8 8 0 01-15.961.79l15.96-15.962zM28 1a8 8 0 018 8v.172L20 25.173V9a8 8 0 018-8z"),f(i,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),f(n,"fill","#000"),f(n,"fillrule","nonzero"),f(e,"class","buttonIconEl"),f(e,"viewBox","0 0 56 56"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){c(t,e,r),s(e,n),s(n,o),s(n,i)},d(t){t&&a(e)}}}function j(t){let e,n,o,i;return{c(){e=u("svg"),n=u("g"),o=u("path"),i=u("rect"),f(o,"d","M52 28c0 13.255-10.745 24-24 24S4 41.255 4 28c0-8.921 4.867-16.705 12.091-20.842l1.984 3.474C12.055 14.08 8 20.566 8 28c0 11.046 8.954 20 20 20s20-8.954 20-20c0-7.434-4.056-13.92-10.075-17.368L39.91 7.16C47.133 11.296 52 19.079 52 28z"),f(o,"fillrule","nonzero"),f(i,"x","24"),f(i,"y","1"),f(i,"width","8"),f(i,"height","23"),f(i,"rx","4"),f(n,"fill","#000"),f(n,"fillrule","evenodd"),f(e,"class","buttonIconEl"),f(e,"viewBox","0 0 56 56"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){c(t,e,r),s(e,n),s(n,o),s(n,i)},d(t){t&&a(e)}}}function O(e){let n,o,i,r,s=("mic"==e[0]||"loading"==e[0])&&I(),l=("failed"==e[0]||"nobrowsersupport"==e[0])&&D(),u="noaudioconsent"==e[0]&&G(),p=("poweron"==e[0]||"connecting"==e[0])&&j();return{c(){s&&s.c(),n=h(),l&&l.c(),o=h(),u&&u.c(),i=h(),p&&p.c(),r=d(""),this.c=t},m(t,e){s&&s.m(t,e),c(t,n,e),l&&l.m(t,e),c(t,o,e),u&&u.m(t,e),c(t,i,e),p&&p.m(t,e),c(t,r,e)},p(t,[e]){"mic"==t[0]||"loading"==t[0]?s||(s=I(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),"failed"==t[0]||"nobrowsersupport"==t[0]?l||(l=D(),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null),"noaudioconsent"==t[0]?u||(u=G(),u.c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null),"poweron"==t[0]||"connecting"==t[0]?p||(p=j(),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},i:t,o:t,d(t){s&&s.d(t),t&&a(n),l&&l.d(t),t&&a(o),u&&u.d(t),t&&a(i),p&&p.d(t),t&&a(r)}}}function q(t,e,n){let{icon:o="mic"}=e;return t.$$set=t=>{"icon"in t&&n(0,o=t.icon)},[o]}customElements.define("mic-frame",class extends R{constructor(t){super(),this.shadowRoot.innerHTML="<style>svg{position:absolute;width:100%;height:100%;pointer-events:auto;user-select:none;cursor:pointer;transform:rotate(var(--fx-rotation));-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none !important;-webkit-user-select:none !important}</style>",P(this,{target:this.shadowRoot,props:w(this.attributes),customElement:!0},null,H,r,{}),t&&t.target&&c(t.target,this,t.anchor)}});function U(e){let n,o,i,r,l,d,h,p;return{c(){n=u("svg"),o=u("defs"),i=u("linearGradient"),r=u("stop"),l=u("stop"),d=u("filter"),h=u("feGaussianBlur"),p=u("circle"),this.c=t,f(r,"stop-color","var(--gradient-stop1)"),f(r,"offset","0%"),f(l,"stop-color","var(--gradient-stop2)"),f(l,"offset","100%"),f(i,"x1","50%"),f(i,"y1","10%"),f(i,"x2","50%"),f(i,"y2","100%"),f(i,"id","a"),f(h,"stdDeviation","18"),f(h,"in","SourceGraphic"),f(d,"x","-35%"),f(d,"y","-35%"),f(d,"width","170%"),f(d,"height","170%"),f(d,"filterUnits","objectBoundingBox"),f(d,"id","b"),f(p,"filter","url(#b)"),f(p,"cx","124"),f(p,"cy","124"),f(p,"r","79"),f(p,"fill","url(#a)"),f(p,"fillrule","evenodd"),f(n,"viewBox","0 0 246 246"),f(n,"xmlns","http://www.w3.org/2000/svg")},m(t,e){c(t,n,e),s(n,o),s(o,i),s(i,r),s(i,l),s(o,d),s(d,h),s(n,p)},p:t,i:t,o:t,d(t){t&&a(n)}}}customElements.define("mic-icon",class extends R{constructor(t){super(),this.shadowRoot.innerHTML="<style>svg{position:absolute;width:60%;height:60%;top:50%;left:50%;transform:translate(-50%, -50%);pointer-events:none;transition:0.25s}</style>",P(this,{target:this.shadowRoot,props:w(this.attributes),customElement:!0},q,O,r,{icon:0}),t&&(t.target&&c(t.target,this,t.anchor),t.props&&(this.$set(t.props),B()))}static get observedAttributes(){return["icon"]}get icon(){return this.$$.ctx[0]}set icon(t){this.$set({icon:t}),B()}});customElements.define("mic-fx",class extends R{constructor(t){super(),this.shadowRoot.innerHTML="<style>svg{top:-75%;left:-75%;height:250%;width:250%;position:absolute;pointer-events:none;transform:rotate(var(--fx-rotation))}</style>",P(this,{target:this.shadowRoot,props:w(this.attributes),customElement:!0},null,U,r,{}),t&&t.target&&c(t.target,this,t.anchor)}});const{window:J}=N;function K(e){let n,i,r,u,d,f,w,v;return{c(){n=l("main"),i=l("mic-fx"),r=h(),u=l("mic-frame"),d=h(),f=l("mic-icon"),this.c=t,m(i,"opacity",e[6][1]),m(i,"transform","rotate("+e[3][1]+"deg)"),g(f,"icon",e[7]),m(f,"opacity",e[5][1]),m(n,"width",e[0]),m(n,"height",e[0]),m(n,"transform","scale("+e[4][1]+")"),m(n,"--gradient-stop1",e[1]),m(n,"--gradient-stop2",e[2]),m(n,"--fx-rotation",e[3][1]+"deg")},m(t,o){c(t,n,o),s(n,i),s(n,r),s(n,u),s(n,d),s(n,f),w||(v=[p(J,"mouseup",e[9]),p(J,"keydown",e[10]),p(J,"keyup",e[11]),p(n,"mousedown",e[8]),p(n,"touchstart",e[8]),p(n,"dragstart",e[8]),p(n,"mouseup",e[9]),p(n,"touchend",e[9],{passive:!0}),p(n,"dragend",e[9])],w=!0)},p(t,[e]){64&e&&m(i,"opacity",t[6][1]),8&e&&m(i,"transform","rotate("+t[3][1]+"deg)"),128&e&&g(f,"icon",t[7]),32&e&&m(f,"opacity",t[5][1]),1&e&&m(n,"width",t[0]),1&e&&m(n,"height",t[0]),16&e&&m(n,"transform","scale("+t[4][1]+")"),2&e&&m(n,"--gradient-stop1",t[1]),4&e&&m(n,"--gradient-stop2",t[2]),8&e&&m(n,"--fx-rotation",t[3][1]+"deg")},i:t,o:t,d(t){t&&a(n),w=!1,o(v)}}}function Q(t,e,n){let{size:o="6rem"}=e,{icon:i=V.Poweron}=e,{capturekey:r=" "}=e,{gradientstop1:s="#15e8b5"}=e,{gradientstop2:c="#4fa1f9"}=e,a=!1,l=[0,0],u=[0,0],d=[1,1],h=[0,0],p=i,f=null,g=0,m=0;const w=y(),v=b(),$=(t,e)=>{v.dispatchEvent(new CustomEvent(t,{detail:e,composed:!0}))};var x;x=()=>{n(4,u[0]=1,u);let t=null;const e=()=>{g=m,m=(new Date).getTime();const o=m-g;i===V.Connecting&&n(5,d[0]=.25*Math.cos(m/2500*Math.PI*2)+.25,d),i===V.Loading&&n(5,d[0]=.25*Math.cos(m/1e3*Math.PI*2)+.25,d),n(4,u=z(u,.2,o)),n(5,d=z(d,.08,o)),n(6,h=z(h,.08,o)),n(3,l=z([l[0]+2.5,l[1]],.05,o)),t=requestAnimationFrame(e)};return e(),()=>cancelAnimationFrame(t)},b().$$.on_mount.push(x);const E=t=>{t.preventDefault(),t.stopPropagation(),a||(n(14,a=!0),n(4,u[0]=1.35,u),n(6,h[0]=1,h),M(),_(i)&&(n(3,l[0]+=720,l),null===f&&(f=window.setTimeout((()=>{n(6,h[0]=0,h),n(4,u[0]=0,u),f=null}),500))),v.onholdstart&&v.onholdstart(),w("holdstart"),$("onholdstart"))},k=()=>{a&&(n(4,u[0]=1,u),n(6,h[0]=0,h),n(14,a=!1),M(),null!==f&&window.clearTimeout(f),v.onholdend&&v.onholdend(),w("holdend"),$("onholdend"))},z=(t,e,n)=>(e=Math.pow(e,1e3/60/n),[t[0],t[1]=t[1]*(1-e)+t[0]*e]),M=(t=5)=>{void 0!==navigator.vibrate&&navigator.vibrate(t)},_=t=>!t||t===V.Failed;return t.$$set=t=>{"size"in t&&n(0,o=t.size),"icon"in t&&n(12,i=t.icon),"capturekey"in t&&n(13,r=t.capturekey),"gradientstop1"in t&&n(1,s=t.gradientstop1),"gradientstop2"in t&&n(2,c=t.gradientstop2)},t.$$.update=()=>{20480&t.$$.dirty&&(a||(t=>{if(p!==t)switch(n(7,p=t),t){case V.Mic:n(5,d[0]=1,d)}})(i))},[o,s,c,l,u,d,h,p,E,k,t=>{r&&t.key===r&&(t.repeat?(t.preventDefault(),t.stopPropagation()):E(t))},t=>{t.key===r&&k()},i,r,a]}customElements.define("holdable-button",class extends R{constructor(t){super(),this.shadowRoot.innerHTML="<style>main{position:relative;user-select:none}</style>",P(this,{target:this.shadowRoot,props:w(this.attributes),customElement:!0},Q,K,r,{size:0,icon:12,capturekey:13,gradientstop1:1,gradientstop2:2}),t&&(t.target&&c(t.target,this,t.anchor),t.props&&(this.$set(t.props),B()))}static get observedAttributes(){return["size","icon","capturekey","gradientstop1","gradientstop2"]}get size(){return this.$$.ctx[0]}set size(t){this.$set({size:t}),B()}get icon(){return this.$$.ctx[12]}set icon(t){this.$set({icon:t}),B()}get capturekey(){return this.$$.ctx[13]}set capturekey(t){this.$set({capturekey:t}),B()}get gradientstop1(){return this.$$.ctx[1]}set gradientstop1(t){this.$set({gradientstop1:t}),B()}get gradientstop2(){return this.$$.ctx[2]}set gradientstop2(t){this.$set({gradientstop2:t}),B()}})}();
//# sourceMappingURL=holdable-button.js.map
